$(document).ready(function(){$("#search").keyup($.debounce(1e3,function(){var e=$("#search").val(),t=new RegExp(e,"i"),n="  ",r=!0;1==$("#search").val().length||" "==$("#search").val()||$("#search").val()==n?(console.log("less than 2"),$("#search").addClass("invalid")):$("#search").removeClass("invalid"),$("#search").val().length>1&&$("#search").val()!=n?$.ajax({type:"GET",cache:!0,url:"http://localhost/fmd-search/search/displayAll",dataType:"json",beforeSend:function(){$("#update").empty().append('<img src="img/sonic.gif" />')},success:function(e){$("#update").empty();var n='<ul class="clearfix searchresults">';$.each(e,function(e,i){(-1!=i.division.search(t)||-1!=i.banner_store_number.search(t)||-1!=i.oracle_store_number.search(t)||-1!=i.store_name.search(t)||-1!=i.address.search(t)||-1!=i.city.search(t)||-1!=i.state.search(t))&&(r=!1,n+='<li class="clearfix">',n+="<h3>"+i.store_name+"</h3>",n+='<div class="pull-left col-6">',n+="<h4> Banner Store Number: "+i.banner_store_number+"</h3>",n+="<h4> Oracle Store Number: "+i.oracle_store_number+"</h3>",n+="<h4>Banner: "+i.division+"</h6>",n+="<p>Month(s) of Schedule: "+i.month_of_schedule+"</p>",n+="<p>Week of Schedule: "+i.week_of_schedule+"</p>",n+='<p class="text-muted">Address: '+i.address+" &bull; "+i.city+", "+i.state+"</p>",n+="</div>",i.special_note&&(n+='<div class="pull-right col-6">'),i.special_note&&(n+='<p><strong><span class="glyphicon glyphicon-asterisk"></span> Special Note:</strong></p>'),i.special_note&&(n+="<blockquote>"+i.special_note+"</blockquote>"),i.special_note&&(n+="</div>"),n+="</li>")}),1==r&&(n+='<li><p class="error">Sorry, that search didn\'t find anything!</p></li>'),n+="</ul>",$("#update").hide().html(n).animate({height:"toggle",opacity:"toggle"},"fast")},error:function(){alert("Uh-oh! Something is wrong! That search isn't going to work. Please try again later.")}}):" "==$("#search").val()?console.log("you search for a space character"):console.log("search string isn't long enough")})),$(function(){$(".go-top").hide(),$(window).scroll(function(){$(this).scrollTop()>400?$(".go-top").fadeIn(200):$(".go-top").fadeOut(200)}),$(".go-top").click(function(){return $("html,body").animate({scrollTop:0},1e3),!1})}),$("#searchlabel").popover({content:"Search through the FMD database by entering a Location Number, Division or Address.",html:!0,animation:!0,trigger:"hover",delay:{show:300,hide:100},placement:"bottom"})});