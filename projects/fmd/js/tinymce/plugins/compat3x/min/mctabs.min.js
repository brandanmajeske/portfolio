function MCTabs(){this.settings=[],this.onChange=tinyMCEPopup.editor.windowManager.createInstance("tinymce.util.Dispatcher")}MCTabs.prototype.init=function(e){this.settings=e},MCTabs.prototype.getParam=function(e,t){var n=null;return n="undefined"==typeof this.settings[e]?t:this.settings[e],"true"==n||"false"==n?"true"==n:n},MCTabs.prototype.showTab=function(e){e.className="current",e.setAttribute("aria-selected",!0),e.setAttribute("aria-expanded",!0),e.tabIndex=0},MCTabs.prototype.hideTab=function(e){e.className="",e.setAttribute("aria-selected",!1),e.setAttribute("aria-expanded",!1),e.tabIndex=-1},MCTabs.prototype.showPanel=function(e){e.className="current",e.setAttribute("aria-hidden",!1)},MCTabs.prototype.hidePanel=function(e){e.className="panel",e.setAttribute("aria-hidden",!0)},MCTabs.prototype.getPanelForTab=function(e){return tinyMCEPopup.dom.getAttrib(e,"aria-controls")},MCTabs.prototype.displayTab=function(e,t,n){var r,i,o,a,s,l,u,c=this;if(o=document.getElementById(e),void 0===t&&(t=c.getPanelForTab(o)),r=document.getElementById(t),i=r?r.parentNode:null,a=o?o.parentNode:null,s=c.getParam("selection_class","current"),o&&a){for(l=a.childNodes,u=0;u<l.length;u++)"LI"==l[u].nodeName&&c.hideTab(l[u]);c.showTab(o)}if(r&&i){for(l=i.childNodes,u=0;u<l.length;u++)"DIV"==l[u].nodeName&&c.hidePanel(l[u]);n||o.focus(),c.showPanel(r)}},MCTabs.prototype.getAnchor=function(){var e,t=document.location.href;return-1!=(e=t.lastIndexOf("#"))?t.substring(e+1):""};var mcTabs=new MCTabs;tinyMCEPopup.onInit.add(function(){var e=tinyMCEPopup.getWin().tinymce,t=tinyMCEPopup.dom,n=e.each;n(t.select("div.tabs"),function(r){var i;t.setAttrib(r,"role","tablist");var o=tinyMCEPopup.dom.select("li",r),a=function(e){mcTabs.displayTab(e,mcTabs.getPanelForTab(e)),mcTabs.onChange.dispatch(e)};n(o,function(e){t.setAttrib(e,"role","tab"),t.bind(e,"click",function(){a(e.id)})}),t.bind(t.getRoot(),"keydown",function(t){9===t.keyCode&&t.ctrlKey&&!t.altKey&&(i.moveFocus(t.shiftKey?-1:1),e.dom.Event.cancel(t))}),n(t.select("a",r),function(e){t.setAttrib(e,"tabindex","-1")}),i=tinyMCEPopup.editor.windowManager.createInstance("tinymce.ui.KeyboardNavigation",{root:r,items:o,onAction:a,actOnFocus:!0,enableLeftRight:!0,enableUpDown:!0},tinyMCEPopup.dom)})});